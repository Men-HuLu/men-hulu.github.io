(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{201:function(n,s,a){"use strict";a.r(s);var t=a(0),e=Object(t.a)({},(function(){var n=this,s=n.$createElement,a=n._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h4",{attrs:{id:"闭包的组成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#闭包的组成"}},[n._v("#")]),n._v(" 闭包的组成:")]),n._v(" "),a("ul",[a("li",[n._v("环境部分 环境：函数的词法环境（执行上下文的一部分）")]),n._v(" "),a("li",[n._v("标识符列表：函数中用到的未声明的变量")]),n._v(" "),a("li",[n._v("表达式部分：函数体")])]),n._v(" "),a("p",[a("strong",[n._v("版本升级历程")]),n._v("\n执行上下文在 ES3 中，包含三个部分。")]),n._v(" "),a("ul",[a("li",[n._v("scope：作用域，也常常被叫做作用域链。")]),n._v(" "),a("li",[n._v("variable object：变量对象，用于存储变量的对象。")]),n._v(" "),a("li",[n._v("this value：this 值。")])]),n._v(" "),a("p",[a("strong",[n._v("在 ES5 中")])]),n._v(" "),a("ul",[a("li",[n._v("lexical environment：词法环境，当获取变量。")]),n._v(" "),a("li",[n._v("variable environment：变量环境，当声声明变量时使用。")]),n._v(" "),a("li",[n._v("this value：this 值。")])]),n._v(" "),a("p",[a("strong",[n._v("在 ES2018 中")])]),n._v(" "),a("ul",[a("li",[n._v("lexical environment：词法环境，当获取变量或者 this 值时使用。")]),n._v(" "),a("li",[n._v("variable environment：变量环境，当声明变量时使用")]),n._v(" "),a("li",[n._v("codeevaluation state：用于恢复代码执行位置。")]),n._v(" "),a("li",[n._v("Function：执行的任务是函数时使用，表示正在被执行的函数。")]),n._v(" "),a("li",[n._v("ScriptOrModule：执行的任务是脚本或者模块时使用，表示正在被执行的代码。")]),n._v(" "),a("li",[n._v("Realm：使用的基础库和内置对象实例。")]),n._v(" "),a("li",[n._v("Generator：仅生成器上下文有这个属性，表示当前生成器。")])]),n._v(" "),a("p",[n._v("有点迷，实际还是基于es3的理解就行")]),n._v(" "),a("h4",{attrs:{id:"调用函数分两个步骤："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调用函数分两个步骤："}},[n._v("#")]),n._v(" 调用函数分两个步骤：")]),n._v(" "),a("ol",[a("li",[n._v("创建阶段")]),n._v(" "),a("li",[n._v("代码执行阶段\n经历过程如图：\n"),a("img",{attrs:{src:"https://s2.ax1x.com/2019/05/17/ELLLY8.jpg",alt:"image"}})])]),n._v(" "),a("h4",{attrs:{id:"this"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#this"}},[n._v("#")]),n._v(" this")]),n._v(" "),a("p",[a("strong",[n._v("this的指向，是在函数被调用的时候确定的。也就是执行上下文被创建时确定的")])]),n._v(" "),a("p",[n._v("在一个函数上下文中，this由调用者提供，由调用函数的方式来决定。如果调用者函数，被某一个对象所拥有，那么该函数在调用时，内部的this指向该对象。如果函数独立调用，那么该函数内部的this，则指向undefined。但是在非严格模式中，当this指向undefined时，它会被自动指向全局对象。")]),n._v(" "),a("h4",{attrs:{id:"闭包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#闭包"}},[n._v("#")]),n._v(" 闭包")]),n._v(" "),a("p",[n._v("函数返回函数")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("//不是纯函数，不会释放\nvar fn = null;\nfunction foo() {\n    var a = 2;\n    function innnerFoo() {\n        console.log(a);\n    }\n    fn = innnerFoo; // 将 innnerFoo的引用，赋值给全局变量中的fn\n}\n\nfunction bar() {\n    fn(); // 此处的保留的innerFoo的引用\n}\n\nfoo();\nbar(); // 2\n\n//推荐\nvar fn = null;\nfunction foo() {\n    var a = 2;\n    function innnerFoo() {\n        console.log(a);\n    }\n    return innnerFoo\n}\n\nfunction bar() {\n    fn(); // 此处的保留的innerFoo的引用\n}\nfn=foo();\nbar(); // 2\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br"),a("span",{staticClass:"line-number"},[n._v("30")]),a("br"),a("span",{staticClass:"line-number"},[n._v("31")]),a("br"),a("span",{staticClass:"line-number"},[n._v("32")]),a("br")])]),a("p",[n._v("函数声明立即执行")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("上一行代码不写分号，js会以为（）是函数的调用\n\n//不推荐写法\n;(function(){\n    var a;\n    //code\n}())\n\n\n;(function(){\n    var a;\n    //code\n})()\n\n//推荐写法\nvoid function(){\n    var a;\n    //code\n}();\n\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br")])]),a("p",[n._v("这里推荐可以看\n"),a("a",{attrs:{href:"https://www.jianshu.com/p/cd3fee40ef59",target:"_blank",rel:"noopener noreferrer"}},[n._v("js执行机制 https://www.jianshu.com/p/cd3fee40ef59"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);