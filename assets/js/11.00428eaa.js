(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{191:function(s,a,t){"use strict";t.r(a);var n=t(0),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"开发架构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发架构"}},[s._v("#")]),s._v(" 开发架构")]),s._v(" "),t("h2",{attrs:{id:"_1-文档和索引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-文档和索引"}},[s._v("#")]),s._v(" 1.文档和索引")]),s._v(" "),t("p",[s._v("文档（Doucment）\nElasticsearch是面向文档的，文档是所有可搜索数据的最小单位。以josn格式保存。")]),s._v(" "),t("p",[s._v("文档结构元数据")]),s._v(" "),t("ul",[t("li",[s._v("_index——文档索引名")]),s._v(" "),t("li",[s._v("_type——文档所属类型名，7.0只允许一个类型 _doc")]),s._v(" "),t("li",[s._v("_id——文档唯一id")]),s._v(" "),t("li",[s._v("_source——文档的原始json字段")]),s._v(" "),t("li",[s._v("_all——整个字段在7.0被废弃")]),s._v(" "),t("li",[s._v("_version——文档的版本信息")]),s._v(" "),t("li",[s._v("_score——打分相关性")])]),s._v(" "),t("p",[s._v("索引（Index）\n相似文档的集合，文档的容器")]),s._v(" "),t("p",[s._v("mapping：定义文档字段类型\nsetting：定义不同数据分布")]),s._v(" "),t("h2",{attrs:{id:"_2-rdbms和elasticsearch比较"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-rdbms和elasticsearch比较"}},[s._v("#")]),s._v(" 2.RDBMS和elasticsearch比较")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("RDBMS")]),s._v(" "),t("th",[s._v("elasticsearch")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("Table")]),s._v(" "),t("td",[s._v("Index")])]),s._v(" "),t("tr",[t("td",[s._v("Row")]),s._v(" "),t("td",[s._v("Doucment")])]),s._v(" "),t("tr",[t("td",[s._v("Column")]),s._v(" "),t("td",[s._v("Filed")])]),s._v(" "),t("tr",[t("td",[s._v("Schema")]),s._v(" "),t("td",[s._v("Mapping")])]),s._v(" "),t("tr",[t("td",[s._v("SQL")]),s._v(" "),t("td",[s._v("DSL")])])])]),s._v(" "),t("h2",{attrs:{id:"_3-index基本查询举例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-index基本查询举例"}},[s._v("#")]),s._v(" 3.Index基本查询举例")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("//查看索引相关信息\nGET INDEX\n\n//查看索引文档总数\nGET INDEX/_count\n\n//查看文档前10条，了解文档格式\nPOST INDEX/_search\n\n\ncat API\n查看Indices\nGET  /_cat/indices/kibana*?v&s=index\n\n查看状态为绿色的索引\nGET  /_cat/indices/kibana*?v&health=green\n\n按文档个数排序\nGET  /_cat/indices/kibana*?v&s=docs.count:desc\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("h1",{attrs:{id:"运维部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运维部署"}},[s._v("#")]),s._v(" 运维部署")]),s._v(" "),t("h2",{attrs:{id:"节点，集群，分片及副本的介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#节点，集群，分片及副本的介绍"}},[s._v("#")]),s._v(" 节点，集群，分片及副本的介绍")]),s._v(" "),t("h3",{attrs:{id:"_1-节点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-节点"}},[s._v("#")]),s._v(" 1.节点")]),s._v(" "),t("p",[s._v("节点本质上是java的一个进程\n每个节点都有一个名字")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("-E  node.name=node1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("maste-eligible node，master node，Data Node，Coordinating node等节点类型")]),s._v(" "),t("h3",{attrs:{id:"_2-分片"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-分片"}},[s._v("#")]),s._v(" 2.分片")]),s._v(" "),t("p",[s._v("主分片，数据分散到所有节点上去\n副本，主分片拷贝，解决高可用的问题")]),s._v(" "),t("p",[s._v("分片7.0默认为1， 不可设置过多或少")]),s._v(" "),t("p",[s._v("集群状态：\nGreen-主分片和副分片正常\nYellow-主分片正常，副分片不正常\nRed-主分片不正常4")]),s._v(" "),t("p",[s._v("命令")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("GET _cluster/health\nGET _cat/node\nGET _cat/shards\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);