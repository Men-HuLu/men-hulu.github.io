(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{224:function(s,n,a){"use strict";a.r(n);var e=a(0),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"流操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#流操作"}},[s._v("#")]),s._v(" 流操作")]),s._v(" "),a("ol",[a("li",[s._v("File 操作文件,对文件整体操作,拷贝、删除和剪切等。(静态)")]),s._v(" "),a("li",[s._v("FileInfo 文件类，用来描述一个文件对象 (动态)")]),s._v(" "),a("li",[s._v("Directory 操作目录 (静态)")]),s._v(" "),a("li",[s._v("DirectoryInfo 操作目录 文件夹一个类，获取指定目录下的所有文件，返回一个FileInfo数组 (动态)")]),s._v(" "),a("li",[s._v("Path 对文件或者目录操作")]),s._v(" "),a("li",[s._v("Stream")])]),s._v(" "),a("ul",[a("li",[s._v("FileStream //文件流")]),s._v(" "),a("li",[s._v("MenoryStream //内存流")]),s._v(" "),a("li",[s._v("NetWorkStream //网络流")]),s._v(" "),a("li",[s._v("StreamReader //快速读取文本文件")]),s._v(" "),a("li",[s._v("StreamWriter //快速写入文本文件")]),s._v(" "),a("li",[s._v("GZipStream")])]),s._v(" "),a("h4",{attrs:{id:"_1-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-file"}},[s._v("#")]),s._v(" 1.File")]),s._v(" "),a("p",[s._v("读取文件")]),s._v(" "),a("h4",{attrs:{id:"_2-fileinfo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-fileinfo"}},[s._v("#")]),s._v(" 2.FileInfo")]),s._v(" "),a("p",[s._v("获取文件信息")]),s._v(" "),a("h4",{attrs:{id:"_3-directory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-directory"}},[s._v("#")]),s._v(" 3.Directory")]),s._v(" "),a("ul",[a("li",[s._v("创建文件夹，如果已有便不创建")]),s._v(" "),a("li",[s._v("删除文件，如果文件夹下还有文件则报异常")]),s._v(" "),a("li",[s._v("删除文件，如果目录不存在则报异常")]),s._v(" "),a("li",[s._v("剪切不能跨磁盘")]),s._v(" "),a("li",[s._v("剪切不能取已有名称的文件夹")]),s._v(" "),a("li",[s._v("子文件和子目录只能包含在直接子目录")])]),s._v(" "),a("h4",{attrs:{id:"_4-directoryinfo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-directoryinfo"}},[s._v("#")]),s._v(" 4.DirectoryInfo")]),s._v(" "),a("p",[s._v("获取文件夹信息\n获取文件加下的DirectoryInfo和FileInfo")]),s._v(" "),a("h4",{attrs:{id:"_5-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-path"}},[s._v("#")]),s._v(" 5.Path")]),s._v(" "),a("p",[s._v("获取文件目录，对文件目录的操作")]),s._v(" "),a("h4",{attrs:{id:"_6-stream"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-stream"}},[s._v("#")]),s._v(" 6.Stream")]),s._v(" "),a("h6",{attrs:{id:"_1-filestream"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-filestream"}},[s._v("#")]),s._v(" 1.FileStream")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('读取文件：\n//文件流：读取\nFileStream fileStream = File.Open(@"D:\\test.txt", FileMode.Open);//初始化文件流\nbyte[] array = new byte[fileStream.Length];//初始化字节数组，用来暂存读取到的字节\nfileStream.Read(array, 0, array.Length);//读取流中数据，写入到字节数组中\nfileStream.Close(); //关闭流\nstring str = Encoding.Default.GetString(array);//将字节数组内容转化为字符串\nResponse.Write(str);\n写入文件：\n//文件流：写入\nFileStream fileStream = File.Open(@"D:\\test.txt",FileMode.Append);//初始化文件流\nbyte[] array = Encoding.Default.GetBytes("哈哈123abc");//给字节数组赋值\nfileStream.Write(array, 0, array.Length);//将字节数组写入文件流\nfileStream.Close();//关闭流\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h6",{attrs:{id:"_2-menorystream"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-menorystream"}},[s._v("#")]),s._v(" 2.MenoryStream")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('string str = "Hi!你好！";\nbyte[] array = Encoding.UTF8.GetBytes(str);//将字符串转化为字节数组\nMemoryStream memory = new MemoryStream(array);//初始化MemoryStream类\nbyte[] arrayNew = memory.ToArray();//将内存中的数据转换为字节数组\nstring strNew = Encoding.UTF8.GetString(arrayNew);//将字节数组转换为字符串\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h6",{attrs:{id:"_3-networkstream"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-networkstream"}},[s._v("#")]),s._v(" 3.NetWorkStream")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('服务器\nTcpListener lis=new TcpListener(5000); //服务器监听\nlis.Start();//启动\nSocket sock=lis.AcceptSocket();//阻塞，直到有客户端连接\n\nNetworkStream networkStream = new NetworkStream(sock);//得到Socket中的流\nif (netStream.DataAvailable)   //如果客户端发送了消息\n{\n   byte[] data = new byte[1024];   //定义一个字节数组，用来存放接收的数据\n   int len = netStream.Read(data, 0, data.Length);  //从位置开始，读取到字节数组末尾\n   string line = Encoding.Default.GetString(data, 0, len);  //把收到的字节转换为字符串\n}\n客户端\nTcpClient client = new TcpClient();//客户端tcp对象\nclient.Connect("127.0.0.1", 5000);//连接服务器\nNetworkStream myStream = client.GetStream();//得到网络流\n                \nbyte[] data = Encoding.Default.GetBytes("Hi，你好");  //首先把输入的字符串消息转换为字节\nmyStream .Write(data, 0, data.Length);  //向myStream 里写入数据\nmyStream .Flush();  //刷新流中的数据\nmyStream .Close();\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("h6",{attrs:{id:"streamreader-streamwriter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#streamreader-streamwriter"}},[s._v("#")]),s._v(" StreamReader/StreamWriter")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('StreamReader/StreamWriter主要用来处理流数据。它们分别提供了高效的流读取/写入功能。\n//StreamReader 读取\nStreamReader reader = new StreamReader(@"D:\\test.txt",Encoding.Default);//初始化读取 设置编码格式，否则中文会乱码\nstring readStr = reader.ReadLine();//从流中读取一行  reader.ReadToEnd()读取全部\nreader.Close();//关闭流\n\n//StreamWriter 写入\nStreamWriter writer = new StreamWriter(@"D:\\test1.txt");//初始化写入\nwriter.WriteLine("Hi 你好123");//写入一行\nwriter.Close();\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h6",{attrs:{id:"textreader-textwriter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#textreader-textwriter"}},[s._v("#")]),s._v(" TextReader/TextWriter")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('TextReader/TextWriter类主要用来处理流数据。它们分别提供了高效的文本流读取/写入功能。\n//TextReader/Writer读写\nTextReader textReader = new StringReader("Hi 你好");//初始化读取流\nTextWriter textWriter = new StringWriter();//初始化写入流\n\nchar[] c=new char[4096];\nint chars = 0;\nwhile ((chars = textReader.Read(c, 0, 4096)) > 0)//把流中数据写入到字符数组中 读取流中数据\n{\n   textWriter.Write(c, 0, 4096);//从字符数组中读取流\n}\n\nstring str= textWriter.ToString();//将流中数据写到字符串中\ntextReader.Close();//关闭流\ntextWriter.Close();\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h6",{attrs:{id:"gzipstream"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gzipstream"}},[s._v("#")]),s._v(" GZipStream")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("压缩流 GZipstream  \n压缩原理： 1.图片 2.文本文件 3.电影 4.字符串 \n1.压缩：\n1.创建读取流 FIle.OpenRead()\n2.创建写入流 FIle.Openwrite()\n3.创建压缩流 new GZipstream()将写入流作为参数与．\n4.每次通过读取流读取一部分数据，通过压缩流写入．\n2.解压\n1.创建读取流： FIle . OpenRead()\n2.创建压缩流： new Gzipstream()：将读取流作为参数 \n3.创建写入流 File . Openwrite(); \n4.每次通过压缩流读取数据，通过写入流写入数据。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h6",{attrs:{id:"注意事项："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意事项："}},[s._v("#")]),s._v(" 注意事项：")]),s._v(" "),a("ol",[a("li",[s._v("==流使用后必须要关闭。==")]),s._v(" "),a("li",[s._v("==把流中数据加载到内存时要考虑内存溢出等问题。==\n1.== 一个流只能针对一个对象==")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('1.文件流操作的都是字节，不能是字符串\n//创建文件流\nfilestream fs=new filestream("xx.text",filemode.create,fileaccess.write)\n//执行写入\nstring msg=“123456789”；\nbyte[] bytes=system.text.utf8.getbytes(msg);\nfs.write(bytes,0,bytes.length);\n//清空缓冲区，关闭文件流，释放资源\nfs.Flush();\nfs.Close();\nfs.Dispose();\nusing=dispose\n//使用文件流时不需要指定编码，应为编码是在btye[]转字符串是才使用的，这里是直接读到byte\nusing（filestream fs=new filestream("xx.text",filemode.open,fileaccess.read)）\n{\n//根据文件总数组创建一个byte数组，这种方式将文件一次性读取出来\nbyte[] bytes=new byte(fs.length)\nfs.read(bytes,0,bytes.length);\n//byte转string 要编码\nstring msg=system.text.utf8.getstring(bytes)\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("h4",{attrs:{id:"乱码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#乱码"}},[s._v("#")]),s._v(" 乱码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("文本文件：直接保存字符串\nASCII ==> gb2312==> GBK(简体中文编码)==>GB18030\n8位==>8位： +7英文   16位::-7-7中文==>8位： +7英文   16位::-7 8中文\nbig5繁体\nunicode：国际码 中英文都是2个字节\nUTF-8：国际码 英文1个字节 中文3个字节\nEncoding.getencoding()所有编码\n读取和保存时用同一编码，避免乱码\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h1",{attrs:{id:"垃圾回收"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#垃圾回收"}},[s._v("#")]),s._v(" 垃圾回收")]),s._v(" "),a("h5",{attrs:{id:"垃圾回收-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#垃圾回收-2"}},[s._v("#")]),s._v(" 垃圾回收")]),s._v(" "),a("p",[s._v("CG.collect() 三代参数")]),s._v(" "),a("p",[s._v("mark-and-compac标记与压缩")]),s._v(" "),a("h5",{attrs:{id:"析构函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#析构函数"}},[s._v("#")]),s._v(" 析构函数")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" ~myclass() 在垃圾回收时才回收这个类开辟内存\n非托管代码开辟的空间要立即释放\nclass myclass:IDisposable\n{\n~myclass() \npublic void Dispose（）\n{} \n}\nDispose和Finalize。Finalize的目的是用于释放非托管的资源，而Dispose是用于释放所有资源，包括托管的和非托管的。\n\n//对所有代进行垃圾回收。\nGC.Collect();\n//对指定的代进行垃圾回收。\nGC.Collect(int generation); \n//强制在 System.GCCollectionMode 值所指定的时间对零代到指定代进行垃圾回收。\nGC.Collect(int generation, GCCollectionMode mode); \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h5",{attrs:{id:"dispose的具体使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dispose的具体使用"}},[s._v("#")]),s._v(" dispose的具体使用")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1.继承IDisposable的方法\nclass Person : IDisposable\n{\n    #region IDisposable Support\n    private bool disposedValue = false; // 要检测冗余调用\n    protected virtual void Dispose(bool disposing)\n    {\n        if (!disposedValue)\n        {\n            if (disposing)\n            {\n                // TODO: 释放托管状态(托管对象)。\n            }\n            // TODO: 释放未托管的资源(未托管的对象)并在以下内容中替代终结。\n            // TODO: 将大型字段设置为 null。\n            disposedValue = true;\n        }\n    }\n    // TODO: 仅当以上 Dispose(bool disposing) 拥有用于释放未托管资源的代码时才替代终结器。\n    // ~Person() {\n    //   // 请勿更改此代码。将清理代码放入以上 Dispose(bool disposing) 中。\n    //   Dispose(false);\n    // }\n\n    // 添加此代码以正确实现可处置模式。\n    public void Dispose()\n    {\n        // 请勿更改此代码。将清理代码放入以上 Dispose(bool disposing) 中。\n        Dispose(true);\n        // TODO: 如果在以上内容中替代了终结器，则取消注释以下行。\n        // GC.SuppressFinalize(this);\n    }\n    #endregion\n}\n\n\n2.对他改写一下可以更加了解\n    class Person : IDisposable\n    {\n        //演示创建一个非托管资源\n        private IntPtr nativeResource = Marshal.AllocHGlobal(100);\n        //演示创建一个托管资源\n        private PersonInfo personInfo = new PersonInfo();\n\n        #region IDisposable Support\n        private bool disposedValue = false; // 要检测冗余调用\n\n        protected virtual void Dispose(bool disposing)\n        {\n            if (!disposedValue)\n            {\n                if (disposing)\n                {\n                    // TODO: 释放托管状态(托管对象)。\n                    personInfo.Dispose();\n                    personInfo = null;\n                }\n                if (nativeResource != IntPtr.Zero)\n                {\n                    Marshal.FreeHGlobal(nativeResource);\n                    nativeResource = IntPtr.Zero;\n                }\n                // TODO: 释放未托管的资源(未托管的对象)并在以下内容中替代终结器。\n                // TODO: 将大型字段设置为 null。            \n                disposedValue = true;\n            }\n        }\n\n        // TODO: 仅当以上 Dispose(bool disposing) 拥有用于释放未托管资源的代码时才替代终结器。\n        // ~Person() {\n        //   // 请勿更改此代码。将清理代码放入以上 Dispose(bool disposing) 中。\n        //   Dispose(false);\n        // }\n\n        // 添加此代码以正确实现可处置模式。\n        public void Dispose()\n        {\n            // 请勿更改此代码。将清理代码放入以上 Dispose(bool disposing) 中。\n            Dispose(true);\n            // TODO: 如果在以上内容中替代了终结器，则取消注释以下行。\n            GC.SuppressFinalize(this);\n        }\n\n        /// <summary>\n        /// 不是必要的，提供一个Close方法仅仅是为了更符合其他语言（如C++）的规范\n        /// </summary>\n        public void Close()\n        {\n            Dispose();\n        }\n\n        ~Person()\n        {\n            //必须为false\n            Dispose(false);\n        }\n        #endregion\n\n    }\n\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);